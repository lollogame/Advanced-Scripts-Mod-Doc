<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced Script Mod - Docs</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', 'Monaco', 'Courier New', monospace;
            line-height: 1.6;
            color: #e0e0e0;
            background: #1e1e1e;
            padding: 40px 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: #252526;
            padding: 50px;
            border-radius: 8px;
            box-shadow: 0 8px 32px rgba(0,0,0,.5);
            border: 1px solid #3e3e42;
        }

        .header-links {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .header-links a {
            color: #4ec9b0;
            text-decoration: none;
            padding: 10px 20px;
            border: 1px solid #3e3e42;
            border-radius: 4px;
            transition: all .3s;
            font-size: 14px;
            font-weight: 600;
        }

        .header-links a:hover {
            background: #4ec9b0;
            color: #1e1e1e;
            border-color: #4ec9b0;
        }

        h1 {
            font-size: 36px;
            margin-bottom: 10px;
            color: #4ec9b0;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .subtitle {
            color: #858585;
            margin-bottom: 40px;
            font-size: 16px;
            font-weight: 300;
        }

        h2 {
            font-size: 26px;
            margin-top: 50px;
            margin-bottom: 20px;
            color: #569cd6;
            font-weight: 600;
            border-bottom: 2px solid #3e3e42;
            padding-bottom: 12px;
        }

        h3 {
            font-size: 18px;
            margin-top: 28px;
            margin-bottom: 15px;
            color: #9cdcfe;
            font-weight: 600;
        }

        p {
            margin-bottom: 15px;
            color: #cccccc;
            font-size: 15px;
        }

        code {
            background: #1e1e1e;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            color: #ce9178;
            border: 1px solid #3e3e42;
        }

        pre {
            background: #1e1e1e !important;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            padding: 0 !important;
            margin: 5px 0 !important;
            overflow-x: auto;
            overflow-y: auto;
            box-shadow: inset 0 2px 4px rgba(0,0,0,.3);
            min-height: 60px;
        }

        pre code {
            background: none !important;
            border: none !important;
            padding: 25px !important;
            color: #d4d4d4 !important;
            font-size: 14px !important;
            font-family: 'Courier New', monospace !important;
            line-height: 1.8 !important;
            white-space: pre !important;
            word-wrap: normal !important;
            min-width: max-content;
            display: block;
        }

        pre::-webkit-scrollbar { height: 8px; width: 8px; }
        pre::-webkit-scrollbar-track { background: #1e1e1e; }
        pre::-webkit-scrollbar-thumb { background: #3e3e42; border-radius: 4px; }
        pre::-webkit-scrollbar-thumb:hover { background: #555555; }

        .token.keyword   { color: #569cd6 !important; }
        .token.string    { color: #ce9178 !important; }
        .token.number    { color: #b5cea8 !important; }
        .token.boolean   { color: #569cd6 !important; }
        .token.function  { color: #dcdcaa !important; }
        .token.comment   { color: #6a9955 !important; font-style: italic; }
        .token.operator  { color: #d4d4d4 !important; }

        ul, ol { margin-left: 25px; margin-bottom: 15px; }
        li { margin-bottom: 10px; color: #cccccc; }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: #1e1e1e;
            border: 1px solid #3e3e42;
            border-radius: 6px;
            overflow: hidden;
        }

        table th {
            background: #2d2d30;
            padding: 14px;
            text-align: left;
            font-weight: 600;
            color: #4ec9b0;
            border-bottom: 2px solid #3e3e42;
        }

        table td {
            padding: 12px 14px;
            border-bottom: 1px solid #3e3e42;
            color: #cccccc;
            vertical-align: top;
        }

        table tr:hover { background: #2d2d30; }
        table tr:last-child td { border-bottom: none; }

        .note {
            background: #1e3a3a;
            border-left: 4px solid #4ec9b0;
            padding: 16px;
            margin: 25px 0;
            border-radius: 4px;
            border-right: 1px solid #3e3e42;
            color: #b4d7ff;
        }

        .note strong { color: #4ec9b0; }

        .warn {
            background: #3a2a1e;
            border-left: 4px solid #ce9178;
            padding: 16px;
            margin: 25px 0;
            border-radius: 4px;
            border-right: 1px solid #3e3e42;
            color: #e0c49f;
        }

        .warn strong { color: #ce9178; }

        .toc {
            background: #2d2d30;
            border: 1px solid #3e3e42;
            padding: 20px 30px;
            margin: 30px 0;
            border-radius: 6px;
            column-count: 2;
            column-gap: 40px;
        }

        .toc-header {
            column-span: all;
            color: #569cd6;
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 12px;
            display: block;
        }

        .toc ul { margin-left: 18px; margin-top: 0; margin-bottom: 4px; }
        .toc li { margin-bottom: 5px; }
        .toc a { color: #9cdcfe; text-decoration: none; transition: color .2s; }
        .toc a:hover { color: #4ec9b0; text-decoration: underline; }

        .section-divider {
            height: 2px;
            background: linear-gradient(90deg, transparent, #3e3e42, transparent);
            margin: 40px 0;
        }

        footer {
            margin-top: 60px;
            padding-top: 20px;
            border-top: 1px solid #3e3e42;
            font-size: 13px;
            color: #6a9955;
            text-align: center;
        }

        footer p { color: #6a9955; margin-bottom: 15px; }

        .footer-links {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #3e3e42;
        }

        .footer-links a {
            color: #4ec9b0;
            text-decoration: none;
            transition: color .3s;
            font-size: 13px;
            font-weight: 600;
        }

        .footer-links a:hover { color: #9cdcfe; text-decoration: underline; }

        .feature-badge {
            display: inline-block;
            background: #569cd6;
            color: #1e1e1e;
            padding: 4px 8px;
            border-radius: 3px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 6px;
            margin-bottom: 6px;
        }

        .badge-green  { background: #4ec9b0; }
        .badge-orange { background: #ce9178; }
        .badge-purple { background: #c586c0; }

        @media (max-width: 700px) {
            .toc { column-count: 1; }
            .container { padding: 24px; }
        }
    </style>
</head>
<body>
<div class="container">

    <div class="header-links">
        <a href="https://www.curseforge.com/minecraft/mc-mods/advanced-scripts" target="_blank">‚¨á Download on CurseForge</a>
    </div>

    <h1>Advanced Scripts Mod</h1>
    <p class="subtitle">Complete Language Reference &nbsp;¬∑&nbsp; Minecraft Forge 1.20.1</p>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê TOC ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <div class="toc">
        <span class="toc-header">üìñ Quick Navigation</span>
        <ul>
            <li><a href="#syntax">Basic Syntax</a></li>
            <li><a href="#variables">Variables &amp; Types</a></li>
            <li><a href="#operators">Operators</a></li>
            <li><a href="#strings">Strings &amp; F-strings</a></li>
            <li><a href="#lists">Lists</a></li>
            <li><a href="#dicts">Dictionaries</a></li>
        </ul>
        <ul>
            <li><a href="#control">Control Flow</a></li>
            <li><a href="#functions">Functions &amp; Macros</a></li>
            <li><a href="#scope">Scope &amp; Global</a></li>
            <li><a href="#imports">Imports &amp; Modules</a></li>
            <li><a href="#annotations">Script Annotations</a></li>
            <li><a href="#preprocessor">Preprocessor (#define)</a></li>
        </ul>
        <ul>
            <li><a href="#commands">Minecraft Commands</a></li>
            <li><a href="#builtins">Built-in Functions</a></li>
            <li><a href="#list-methods">List Methods</a></li>
            <li><a href="#dict-methods">Dict Methods</a></li>
            <li><a href="#str-methods">String Methods</a></li>
            <li><a href="#examples">Examples</a></li>
        </ul>
        <ul>
            <li><a href="#mc-data">üéÆ Minecraft Data</a></li>
            <li><a href="#mc-player-presence">‚Ü≥ Player ‚Äî Presence</a></li>
            <li><a href="#mc-player-stats">‚Ü≥ Player ‚Äî Stats</a></li>
            <li><a href="#mc-player-position">‚Ü≥ Player ‚Äî Position</a></li>
            <li><a href="#mc-player-flags">‚Ü≥ Player ‚Äî State</a></li>
            <li><a href="#mc-player-inventory">‚Ü≥ Player ‚Äî Inventory</a></li>
            <li><a href="#mc-player-nbt">‚Ü≥ Player ‚Äî NBT</a></li>
            <li><a href="#mc-world">‚Ü≥ World &amp; Server</a></li>
            <li><a href="#mc-blocks">‚Ü≥ Blocks</a></li>
            <li><a href="#mc-examples">‚Ü≥ Data Examples</a></li>
        </ul>
    </div>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BASIC SYNTAX ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="syntax">Basic Syntax</h2>
    <p>The language uses Python-like syntax: indentation-based blocks, no semicolons, and inline comments with <code>#</code>.</p>

    <h3>Comments</h3>
    <pre><code class="language-python"># This is a full-line comment
x = 10  # This is an inline comment</code></pre>

    <h3>Indentation</h3>
    <p>Use <strong>4 spaces</strong> or <strong>1 tab</strong> per level. Mixed indentation in the same block is not supported.</p>
    <pre><code class="language-python">if x > 5:
    /say x is greater than 5   # indented block
    x = x - 1
/say always runs               # back to top level</code></pre>

    <h3>Line Continuation</h3>
    <p>Long lines can be split with a trailing backslash <code>\</code>:</p>
    <pre><code class="language-python">result = very_long_variable_name + \
         another_long_variable</code></pre>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê VARIABLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="variables">Variables &amp; Types</h2>

    <h3>Assignment</h3>
    <pre><code class="language-python">name     = "Steve"       # str
health   = 20            # int
speed    = 0.4           # float
is_op    = True          # bool
target   = None          # None (null)
items    = [1, 2, 3]     # list
data     = {"key": 1}    # dict</code></pre>

    <h3>Augmented Assignment</h3>
    <pre><code class="language-python">x = 10
x += 5   # x = 15
x -= 3   # x = 12
x *= 2   # x = 24
x /= 4   # x = 6.0
x %= 4   # x = 2.0</code></pre>

    <h3>Subscript Assignment</h3>
    <pre><code class="language-python">inventory = ["sword", "shield", "potion"]
inventory[0] = "bow"       # replace first element

player_data = {"hp": 20}
player_data["hp"] = 15     # update dict value
player_data["mp"] += 5     # augmented on dict key</code></pre>

    <h3>Type Table</h3>
    <table>
        <tr><th>Type</th><th>Example</th><th>Notes</th></tr>
        <tr><td><span class="feature-badge">int</span></td><td><code>42</code>, <code>-7</code></td><td>Whole numbers</td></tr>
        <tr><td><span class="feature-badge">float</span></td><td><code>3.14</code>, <code>-0.5</code></td><td>Decimal numbers</td></tr>
        <tr><td><span class="feature-badge">str</span></td><td><code>"hi"</code>, <code>'hi'</code></td><td>Text, single or double quotes</td></tr>
        <tr><td><span class="feature-badge">bool</span></td><td><code>True</code>, <code>False</code></td><td>Case-sensitive</td></tr>
        <tr><td><span class="feature-badge">list</span></td><td><code>[1, "a", True]</code></td><td>Ordered, mixed types</td></tr>
        <tr><td><span class="feature-badge">dict</span></td><td><code>{"k": "v"}</code></td><td>Key-value pairs, string keys</td></tr>
        <tr><td><span class="feature-badge">None</span></td><td><code>None</code></td><td>Represents no value</td></tr>
        <tr><td><span class="feature-badge badge-purple">module</span></td><td><code>import math</code></td><td>Loaded script module</td></tr>
    </table>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê OPERATORS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="operators">Operators</h2>

    <h3>Arithmetic</h3>
    <table>
        <tr><th>Operator</th><th>Meaning</th><th>Example</th><th>Result</th></tr>
        <tr><td><code>+</code></td><td>Addition / concat</td><td><code>3 + 2</code></td><td><code>5</code></td></tr>
        <tr><td><code>-</code></td><td>Subtraction</td><td><code>3 - 2</code></td><td><code>1</code></td></tr>
        <tr><td><code>*</code></td><td>Multiplication</td><td><code>3 * 2</code></td><td><code>6</code></td></tr>
        <tr><td><code>/</code></td><td>Division (float)</td><td><code>7 / 2</code></td><td><code>3.5</code></td></tr>
        <tr><td><code>//</code></td><td>Floor division</td><td><code>7 // 2</code></td><td><code>3</code></td></tr>
        <tr><td><code>%</code></td><td>Modulo</td><td><code>7 % 3</code></td><td><code>1</code></td></tr>
        <tr><td><code>**</code></td><td>Power</td><td><code>2 ** 8</code></td><td><code>256</code></td></tr>
    </table>

    <h3>Comparison</h3>
    <table>
        <tr><th>Operator</th><th>Meaning</th></tr>
        <tr><td><code>==</code></td><td>Equal</td></tr>
        <tr><td><code>!=</code></td><td>Not equal</td></tr>
        <tr><td><code>&lt;</code></td><td>Less than</td></tr>
        <tr><td><code>&gt;</code></td><td>Greater than</td></tr>
        <tr><td><code>&lt;=</code></td><td>Less or equal</td></tr>
        <tr><td><code>&gt;=</code></td><td>Greater or equal</td></tr>
        <tr><td><code>in</code></td><td>Membership (list, dict, string)</td></tr>
        <tr><td><code>not in</code></td><td>Negative membership</td></tr>
    </table>

    <h3>Logical</h3>
    <pre><code class="language-python">if x > 0 and x < 100:
    /say x is between 0 and 100

if hp == 0 or dead:
    /say Player is dead

if not is_banned:
    /say Welcome!</code></pre>

    <h3>Operator Precedence</h3>
    <p>From lowest to highest: <code>or</code> ‚Üí <code>and</code> ‚Üí <code>not</code> ‚Üí comparisons ‚Üí <code>+ -</code> ‚Üí <code>* / // %</code> ‚Üí unary <code>-</code> ‚Üí <code>**</code> ‚Üí subscript/call/attribute</p>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STRINGS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="strings">Strings &amp; F-strings</h2>

    <h3>String Literals</h3>
    <pre><code class="language-python">s1 = "Hello, world!"
s2 = 'Single quotes work too'
s3 = "She said \"hi\""</code></pre>

    <h3>F-strings (Interpolation)</h3>
    <p>Any string that contains <code>{expr}</code> is treated as an f-string. Full expressions are supported inside braces.</p>
    <pre><code class="language-python">name = "Steve"
hp   = 15
max_hp = 20

/say Hello, {name}!                   # variable
/say HP: {hp} / {max_hp}              # multiple
/say Percent: {hp * 100 // max_hp}%   # expression
/say Status: {name.upper()}           # method call

msg = f"Player {name} has {hp} HP"
/say {msg}</code></pre>

    <p>To include a literal brace, double it:</p>
    <pre><code class="language-python">/say Use {{curly braces}} to escape</code></pre>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LISTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="lists">Lists</h2>
    <pre><code class="language-python"># Create
items = ["diamond", "sword", "potion"]
nums  = [1, 2, 3, 4, 5]
mixed = [1, "hello", True, None]
empty = []

# Access (0-indexed, negative indices supported)
first = items[0]      # "diamond"
last  = items[-1]     # "potion"

# Modify
items[1] = "axe"

# Iterate
for item in items:
    /say {item}

# Check membership
if "diamond" in items:
    /say Found!

# Nested lists
matrix = [[1, 2], [3, 4]]
val = matrix[0][1]    # 2</code></pre>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DICTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="dicts">Dictionaries</h2>
    <pre><code class="language-python"># Create
player = {"name": "Steve", "hp": 20, "level": 5}
empty  = {}

# Access
name = player["name"]

# Modify / add keys
player["hp"]    = 15
player["mana"]  = 100

# Augmented
player["hp"] -= 5

# Iterate keys
for key in player:
    /say {key} = {player[key]}

# Check key existence
if "mana" in player:
    /say Mana: {player["mana"]}</code></pre>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê CONTROL FLOW ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="control">Control Flow</h2>

    <h3>If / Elif / Else</h3>
    <pre><code class="language-python">hp = 8

if hp <= 0:
    /say You died!
elif hp <= 5:
    /say Critical health!
elif hp <= 10:
    /say Low health.
else:
    /say You are healthy.</code></pre>

    <h3>For Loop</h3>
    <pre><code class="language-python"># Over a list
players = ["Steve", "Alex", "Notch"]
for player in players:
    /say Welcome, {player}!
    wait(20)

# Over range
for i in range(5):           # 0 1 2 3 4
    /say Tick {i}

for i in range(1, 6):        # 1 2 3 4 5
    /say {i}

for i in range(10, 0, -2):   # 10 8 6 4 2
    /say Countdown: {i}

# Over string characters
for ch in "abc":
    /say Letter: {ch}

# Tuple unpacking (pairs)
pairs = [[1, "one"], [2, "two"], [3, "three"]]
for num, word in pairs:
    /say {num} = {word}

# enumerate()
for i, val in enumerate(players):
    /say #{i}: {val}

# zip()
names  = ["Alice", "Bob"]
scores = [100, 85]
for name, score in zip(names, scores):
    /say {name}: {score}</code></pre>

    <h3>While Loop</h3>
    <pre><code class="language-python">count = 10
while count > 0:
    /say Countdown: {count}
    count -= 1
    wait(20)
/say Blast off!</code></pre>

    <h3>Break &amp; Continue</h3>
    <pre><code class="language-python">for i in range(20):
    if i == 10:
        break       # exit loop entirely
    if i % 2 == 0:
        continue    # skip to next iteration
    /say {i}        # prints only odd numbers < 10</code></pre>

    <h3>Pass</h3>
    <pre><code class="language-python">def placeholder():
    pass   # empty body ‚Äî no-op</code></pre>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FUNCTIONS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="functions">Functions &amp; Macros</h2>

    <h3>Basic Definition</h3>
    <pre><code class="language-python">def greet(player):
    /say Hello, {player}!

def add(a, b):
    return a + b

result = add(3, 5)   # result = 8
greet("Steve")</code></pre>

    <h3>Default Parameters</h3>
    <pre><code class="language-python">def give(player, item, amount=1):
    /give {player} minecraft:{item} {amount}

give("Steve", "diamond")       # amount defaults to 1
give("Alex", "emerald", 64)    # amount = 64</code></pre>

    <h3>Return Values</h3>
    <pre><code class="language-python">def max_of(a, b):
    if a > b:
        return a
    return b

def is_alive(hp):
    return hp > 0

bigger = max_of(10, 7)   # 10
alive  = is_alive(5)     # True</code></pre>

    <h3>Nested Functions</h3>
    <pre><code class="language-python">def outer(x):
    def inner(y):
        return x + y   # inner closes over x
    result = inner(10)
    return result

/say {outer(5)}   # 15</code></pre>

    <h3>@macro ‚Äî Caller-Scope Functions</h3>
    <p>A function decorated with <code>@macro</code> runs <strong>inside the caller's scope</strong> ‚Äî it can read and write the caller's variables directly. Ideal for reusable command blocks.</p>
    <pre><code class="language-python">@macro
def give_reward(player, amount):
    /give {player} minecraft:diamond {amount}
    /xp add {player} {amount * 10} points
    /say {player} received a reward!

give_reward("Steve", 5)
give_reward("Alex", 10)</code></pre>

    <div class="note">
        <strong>üí° macro vs def:</strong> A regular <code>def</code> creates its own isolated scope. A <code>@macro</code> shares the caller's scope ‚Äî variables it sets are visible to the caller after it returns.
    </div>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SCOPE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="scope">Scope &amp; Global</h2>
    <p>Variables defined inside a function are local. Use <code>global</code> to write to the global scope.</p>
    <pre><code class="language-python">counter = 0

def increment():
    global counter
    counter += 1

increment()
increment()
/say Counter: {counter}   # 2</code></pre>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê IMPORTS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="imports">Imports &amp; Modules</h2>
    <p>Scripts can import functions and variables from other <code>.script</code> files. Dot notation maps to subdirectories.</p>

    <h3>Import Forms</h3>
    <table>
        <tr><th>Syntax</th><th>Result</th></tr>
        <tr><td><code>import utils</code></td><td>Loads <code>utils.script</code>, binds as <code>utils</code> object</td></tr>
        <tr><td><code>import utils as u</code></td><td>Same, bound as <code>u</code></td></tr>
        <tr><td><code>import lib.math</code></td><td>Loads <code>lib/math.script</code>, bound as <code>math</code></td></tr>
        <tr><td><code>import lib.math as m</code></td><td>Loads <code>lib/math.script</code>, bound as <code>m</code></td></tr>
        <tr><td><code>from utils import *</code></td><td>All functions &amp; variables in current scope</td></tr>
        <tr><td><code>from utils import greet</code></td><td>Only <code>greet</code></td></tr>
        <tr><td><code>from utils import greet, MAX</code></td><td>Multiple names</td></tr>
        <tr><td><code>from utils import greet as hi</code></td><td>With alias</td></tr>
        <tr><td><code>from utils import greet as hi, MAX as LIMIT</code></td><td>Multiple with aliases</td></tr>
    </table>

    <h3>Usage Examples</h3>
    <pre><code class="language-python"># Module object ‚Äî access with dot notation
import lib.math as m
result = m.sqrt(144)
/say Sqrt: {result}

# Merge into current scope
from lib.math import *
result = sqrt(25)     # no prefix needed

# Selective import with alias
from lib.math import clamp as c, lerp
health = c(player_hp, 0, 20)
t = lerp(0, 100, 0.5)</code></pre>

    <h3>Module Attributes</h3>
    <pre><code class="language-python">import math

# Access a variable
/say PI = {math.PI}

# Call a function
r = math.sqrt(9)

# Subscript access also works
r = math["sqrt"](16)

# Check if member exists
if hasattr(math, "sin"):
    /say math has sin

# Dynamic access
fn_name = "cos"
val = getattr(math, fn_name)</code></pre>

    <h3>Directory Structure</h3>
    <pre><code class="language-python">scripts/
‚îú‚îÄ‚îÄ main.script
‚îú‚îÄ‚îÄ math.script
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ utils.script
‚îÇ   ‚îî‚îÄ‚îÄ rewards.script
‚îî‚îÄ‚îÄ events/
    ‚îî‚îÄ‚îÄ on_join.script</code></pre>

    <div class="note">
        <strong>üì¶ Module Cache:</strong> Each module is parsed only once per server session and cached automatically. Running <code>/scripts reload</code> clears the cache so updated library files are picked up.
    </div>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ANNOTATIONS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="annotations">Script Annotations</h2>
    <p>Annotations appear at the very top of a script file (before any code).</p>

    <table>
        <tr><th>Annotation</th><th>Meaning</th></tr>
        <tr>
            <td><code>@PREPARE</code></td>
            <td>Script runs automatically on server start and on <code>/scripts reload</code>.</td>
        </tr>
        <tr>
            <td><code>@LIBRARY</code></td>
            <td>When imported, only definitions (functions, variable assignments) are loaded. Top-level commands and <code>wait()</code> calls are skipped. <em>This is the default behavior when a script is imported.</em></td>
        </tr>
        <tr>
            <td><code>@RUN</code></td>
            <td>When imported, the entire script is executed including top-level commands (overrides <code>@LIBRARY</code> behavior).</td>
        </tr>
    </table>

    <pre><code class="language-python">@PREPARE
# This script runs when the server starts

/say Server started!

def on_ready():
    /say All systems go.

on_ready()</code></pre>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PREPROCESSOR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="preprocessor">Preprocessor ‚Äî #define</h2>
    <p><code>#define</code> performs text substitution across the entire script <strong>before</strong> execution. The define lines themselves are removed from the source.</p>

    <pre><code class="language-python">#define MAX_HP       20
#define SPAWN_X      0
#define SPAWN_Y      64
#define SPAWN_Z      0
#define WELCOME_MSG  "Welcome to the server!"

hp = MAX_HP                           # becomes: hp = 20
/tp @s {SPAWN_X} {SPAWN_Y} {SPAWN_Z} # /tp @s 0 64 0
/say {WELCOME_MSG}                    # /say Welcome to the server!</code></pre>

    <div class="note">
        <strong>üí° Note:</strong> Substitution uses word boundaries ‚Äî <code>MAX</code> won't accidentally replace inside <code>MAXIMUM</code>. Quoted string values have their quotes stripped in the replacement.
    </div>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MINECRAFT COMMANDS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="commands">Minecraft Commands</h2>
    <p>Any line starting with <code>/</code> executes a server command. Variable interpolation works exactly like f-strings.</p>

    <h3>Basic Usage</h3>
    <pre><code class="language-python">player = "Steve"
x, y, z = 100, 64, 200

/say Hello, {player}!
/tp {player} {x} {y} {z}
/give {player} minecraft:diamond 10
/summon minecraft:zombie {x} {y} {z}
/effect give {player} minecraft:speed 30 2</code></pre>

    <h3>Expressions in Commands</h3>
    <pre><code class="language-python">hp    = 15
maxhp = 20

/say HP: {hp}/{maxhp} ({hp * 100 // maxhp}%)
/give @a minecraft:experience_bottle {level * 2}</code></pre>

    <h3>Tellraw &amp; JSON Commands</h3>
    <pre><code class="language-python">/tellraw @a {"text":"Red message","color":"red"}
/tellraw @a [{"text":"Gold ","color":"gold"},{"text":"Blue","color":"blue"}]</code></pre>

    <h3>Commands Inside Functions</h3>
    <pre><code class="language-python">def announce(msg, color):
    /tellraw @a {"text":"{msg}","color":"{color}"}

def tp_spawn(player):
    /tp {player} 0 64 0
    /say {player} was teleported to spawn.

announce("Match starts in 10s!", "gold")
tp_spawn("Steve")</code></pre>

    <div class="note">
        <strong>‚öôÔ∏è Threading:</strong> Each script runs on its own thread. Every command is submitted to the server thread and waits for completion before the next line runs ‚Äî execution order is always sequential.
    </div>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê BUILT-INS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="builtins">Built-in Functions</h2>

    <h3>I/O &amp; Timing</h3>
    <table>
        <tr><th>Function</th><th>Description</th><th>Example</th></tr>
        <tr>
            <td><code>print(‚Ä¶)</code></td>
            <td>Print to server console (not in-game). Accepts multiple arguments separated by spaces.</td>
            <td><code>print("debug", x)</code></td>
        </tr>
        <tr>
            <td><code>wait(ticks)</code></td>
            <td>Pause execution. 20 ticks = 1 second. Stopping the script during <code>wait()</code> works correctly.</td>
            <td><code>wait(40)</code> ‚Üí 2 s</td>
        </tr>
    </table>

    <h3>Type Conversion</h3>
    <table>
        <tr><th>Function</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>int(x)</code></td><td>Convert to integer</td><td><code>int("42")</code> ‚Üí <code>42</code></td></tr>
        <tr><td><code>float(x)</code></td><td>Convert to float</td><td><code>float("3.14")</code> ‚Üí <code>3.14</code></td></tr>
        <tr><td><code>str(x)</code></td><td>Convert to string</td><td><code>str(100)</code> ‚Üí <code>"100"</code></td></tr>
        <tr><td><code>bool(x)</code></td><td>Convert to boolean</td><td><code>bool(0)</code> ‚Üí <code>False</code></td></tr>
        <tr><td><code>list(x)</code></td><td>Convert/copy to list (strings become character lists)</td><td><code>list("abc")</code> ‚Üí <code>['a','b','c']</code></td></tr>
        <tr><td><code>dict()</code></td><td>Create empty dict or copy</td><td><code>dict()</code> ‚Üí <code>{}</code></td></tr>
    </table>

    <h3>Math</h3>
    <table>
        <tr><th>Function</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>abs(x)</code></td><td>Absolute value</td><td><code>abs(-5)</code> ‚Üí <code>5</code></td></tr>
        <tr><td><code>min(a, b, ‚Ä¶)</code> or <code>min(list)</code></td><td>Minimum value</td><td><code>min(3, 1, 4)</code> ‚Üí <code>1</code></td></tr>
        <tr><td><code>max(a, b, ‚Ä¶)</code> or <code>max(list)</code></td><td>Maximum value</td><td><code>max([5, 2, 8])</code> ‚Üí <code>8</code></td></tr>
        <tr><td><code>round(x)</code> / <code>round(x, n)</code></td><td>Round to n decimal places</td><td><code>round(3.14159, 2)</code> ‚Üí <code>3.14</code></td></tr>
        <tr><td><code>sum(list)</code></td><td>Sum all elements</td><td><code>sum([1,2,3])</code> ‚Üí <code>6</code></td></tr>
    </table>

    <h3>Sequence &amp; Collections</h3>
    <table>
        <tr><th>Function</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>len(x)</code></td><td>Length of list, dict, or string</td><td><code>len([1,2,3])</code> ‚Üí <code>3</code></td></tr>
        <tr><td><code>range(n)</code></td><td>0 to n-1</td><td><code>range(5)</code> ‚Üí <code>[0,1,2,3,4]</code></td></tr>
        <tr><td><code>range(start, end)</code></td><td>start to end-1</td><td><code>range(2, 5)</code> ‚Üí <code>[2,3,4]</code></td></tr>
        <tr><td><code>range(start, end, step)</code></td><td>With step (can be negative)</td><td><code>range(0,10,2)</code> ‚Üí <code>[0,2,4,6,8]</code></td></tr>
        <tr><td><code>sorted(list)</code></td><td>Return sorted copy (ascending)</td><td><code>sorted([3,1,2])</code> ‚Üí <code>[1,2,3]</code></td></tr>
        <tr><td><code>reversed(list)</code></td><td>Return reversed copy</td><td><code>reversed([1,2,3])</code> ‚Üí <code>[3,2,1]</code></td></tr>
        <tr><td><code>enumerate(list)</code></td><td>List of <code>[index, value]</code> pairs</td><td><code>enumerate(["a","b"])</code> ‚Üí <code>[[0,"a"],[1,"b"]]</code></td></tr>
        <tr><td><code>zip(a, b)</code></td><td>Pair up two lists element-wise</td><td><code>zip([1,2],["a","b"])</code> ‚Üí <code>[[1,"a"],[2,"b"]]</code></td></tr>
    </table>

    <h3>Introspection</h3>
    <table>
        <tr><th>Function</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>type(x)</code></td><td>Type name as string</td><td><code>type(3.14)</code> ‚Üí <code>"float"</code></td></tr>
        <tr><td><code>hasattr(mod, name)</code></td><td>Check if module has member</td><td><code>hasattr(math, "sqrt")</code></td></tr>
        <tr><td><code>getattr(mod, name)</code></td><td>Get module member by name string</td><td><code>getattr(math, "PI")</code></td></tr>
        <tr><td><code>getattr(mod, name, default)</code></td><td>With fallback default</td><td><code>getattr(m, "x", 0)</code></td></tr>
    </table>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LIST METHODS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="list-methods">List Methods</h2>
    <pre><code class="language-python">lst = [3, 1, 4, 1, 5]</code></pre>
    <table>
        <tr><th>Method</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>.append(x)</code></td><td>Add element to end</td><td><code>lst.append(9)</code></td></tr>
        <tr><td><code>.extend(other)</code></td><td>Append all elements of another list</td><td><code>lst.extend([6, 7])</code></td></tr>
        <tr><td><code>.insert(i, x)</code></td><td>Insert x at index i</td><td><code>lst.insert(0, 99)</code></td></tr>
        <tr><td><code>.remove(x)</code></td><td>Remove first occurrence of x</td><td><code>lst.remove(1)</code></td></tr>
        <tr><td><code>.pop()</code> / <code>.pop(i)</code></td><td>Remove and return last (or index i)</td><td><code>lst.pop()</code></td></tr>
        <tr><td><code>.clear()</code></td><td>Remove all elements</td><td><code>lst.clear()</code></td></tr>
        <tr><td><code>.sort()</code></td><td>Sort in-place ascending</td><td><code>lst.sort()</code></td></tr>
        <tr><td><code>.reverse()</code></td><td>Reverse in-place</td><td><code>lst.reverse()</code></td></tr>
        <tr><td><code>.copy()</code></td><td>Return a shallow copy</td><td><code>copy = lst.copy()</code></td></tr>
        <tr><td><code>.count(x)</code></td><td>Count occurrences of x</td><td><code>lst.count(1)</code> ‚Üí <code>2</code></td></tr>
        <tr><td><code>.index(x)</code></td><td>First index of x (or -1)</td><td><code>lst.index(4)</code> ‚Üí <code>2</code></td></tr>
    </table>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê DICT METHODS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="dict-methods">Dictionary Methods</h2>
    <pre><code class="language-python">d = {"hp": 20, "mp": 50}</code></pre>
    <table>
        <tr><th>Method</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>.get(key)</code> / <code>.get(key, default)</code></td><td>Safe access with optional default</td><td><code>d.get("xp", 0)</code></td></tr>
        <tr><td><code>.keys()</code></td><td>List of all keys</td><td><code>d.keys()</code> ‚Üí <code>["hp","mp"]</code></td></tr>
        <tr><td><code>.values()</code></td><td>List of all values</td><td><code>d.values()</code> ‚Üí <code>[20,50]</code></td></tr>
        <tr><td><code>.items()</code></td><td>List of <code>[key, value]</code> pairs</td><td><code>d.items()</code></td></tr>
        <tr><td><code>.pop(key)</code></td><td>Remove and return value for key</td><td><code>d.pop("mp")</code></td></tr>
        <tr><td><code>.update(other)</code></td><td>Merge another dict in</td><td><code>d.update({"xp": 10})</code></td></tr>
        <tr><td><code>.clear()</code></td><td>Remove all keys</td><td><code>d.clear()</code></td></tr>
        <tr><td><code>.copy()</code></td><td>Return a shallow copy</td><td><code>copy = d.copy()</code></td></tr>
        <tr><td><code>.setdefault(key, val)</code></td><td>Set key only if not already present</td><td><code>d.setdefault("xp", 0)</code></td></tr>
        <tr><td><code>.has_key(key)</code> / <code>.contains(key)</code></td><td>Check if key exists</td><td><code>d.has_key("hp")</code> ‚Üí <code>True</code></td></tr>
    </table>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê STRING METHODS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="str-methods">String Methods</h2>
    <pre><code class="language-python">s = "  Hello, World!  "</code></pre>
    <table>
        <tr><th>Method</th><th>Description</th><th>Example</th></tr>
        <tr><td><code>.upper()</code></td><td>Uppercase</td><td><code>"hi".upper()</code> ‚Üí <code>"HI"</code></td></tr>
        <tr><td><code>.lower()</code></td><td>Lowercase</td><td><code>"HI".lower()</code> ‚Üí <code>"hi"</code></td></tr>
        <tr><td><code>.strip()</code></td><td>Remove leading/trailing whitespace</td><td><code>s.strip()</code></td></tr>
        <tr><td><code>.lstrip()</code></td><td>Remove leading whitespace</td><td><code>s.lstrip()</code></td></tr>
        <tr><td><code>.rstrip()</code></td><td>Remove trailing whitespace</td><td><code>s.rstrip()</code></td></tr>
        <tr><td><code>.split()</code> / <code>.split(sep)</code></td><td>Split by whitespace or separator</td><td><code>"a,b,c".split(",")</code> ‚Üí <code>["a","b","c"]</code></td></tr>
        <tr><td><code>sep.join(list)</code></td><td>Join list into string with separator</td><td><code>",".join(["a","b"])</code> ‚Üí <code>"a,b"</code></td></tr>
        <tr><td><code>.replace(old, new)</code></td><td>Replace all occurrences</td><td><code>"hi hi".replace("hi","bye")</code></td></tr>
        <tr><td><code>.startswith(s)</code></td><td>Check prefix</td><td><code>"hello".startswith("he")</code> ‚Üí <code>True</code></td></tr>
        <tr><td><code>.endswith(s)</code></td><td>Check suffix</td><td><code>"hello".endswith("lo")</code> ‚Üí <code>True</code></td></tr>
        <tr><td><code>.contains(s)</code></td><td>Check if substring present</td><td><code>"hello".contains("ell")</code> ‚Üí <code>True</code></td></tr>
        <tr><td><code>.find(s)</code> / <code>.index(s)</code></td><td>First index of substring (-1 if absent)</td><td><code>"hello".find("l")</code> ‚Üí <code>2</code></td></tr>
        <tr><td><code>.count(s)</code></td><td>Count non-overlapping occurrences</td><td><code>"aaa".count("a")</code> ‚Üí <code>3</code></td></tr>
        <tr><td><code>.format(‚Ä¶)</code></td><td>Replace <code>{}</code> placeholders in order</td><td><code>"{} + {} = {}".format(1,2,3)</code></td></tr>
        <tr><td><code>.zfill(n)</code></td><td>Zero-pad to width n</td><td><code>"7".zfill(3)</code> ‚Üí <code>"007"</code></td></tr>
        <tr><td><code>.isdigit()</code></td><td>True if all characters are digits</td><td><code>"123".isdigit()</code> ‚Üí <code>True</code></td></tr>
        <tr><td><code>.isalpha()</code></td><td>True if all characters are letters</td><td><code>"abc".isalpha()</code> ‚Üí <code>True</code></td></tr>
        <tr><td><code>.isalnum()</code></td><td>True if all are letters or digits</td><td><code>"abc123".isalnum()</code> ‚Üí <code>True</code></td></tr>
        <tr><td><code>.len()</code></td><td>Length (also: <code>len(s)</code>)</td><td><code>"hello".len()</code> ‚Üí <code>5</code></td></tr>
    </table>

    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê EXAMPLES ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="examples">üí° Examples</h2>

    <h3>Countdown Timer</h3>
    <pre><code class="language-python">def countdown(seconds):
    count = seconds
    while count > 0:
        /title @a times 10 40 10
        /title @a subtitle {"text":"{count}","color":"gold"}
        /title @a title {"text":"Event starts in","color":"white"}
        count -= 1
        wait(20)
    /title @a title {"text":"GO!","color":"green"}

countdown(10)</code></pre>

    <h3>Loot Drop Event</h3>
    <pre><code class="language-python">#define LOOT_X   0
#define LOOT_Y   65
#define LOOT_Z   0

loot_table = [
    ["minecraft:diamond", 3],
    ["minecraft:emerald", 5],
    ["minecraft:gold_ingot", 10],
    ["minecraft:iron_ingot", 20],
]

/say A loot drop is incoming!
wait(60)

for entry in loot_table:
    item   = entry[0]
    amount = entry[1]
    /summon minecraft:item {LOOT_X} {LOOT_Y} {LOOT_Z} {Item:{id:"{item}",Count:{amount}}}
    wait(10)

/say Loot has dropped at 0 65 0!</code></pre>

    <h3>Player Stats Board</h3>
    <pre><code class="language-python">from lib.utils import *

players = ["Steve", "Alex", "Notch"]
scores  = [1200, 980, 1450]

/say ¬ß6¬ßl‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LEADERBOARD ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
for i, player in enumerate(players):
    score = scores[i]
    rank  = i + 1
    /say ¬ße#{rank} ¬ßf{player} ¬ß7‚Äî ¬ßa{score} pts
    wait(5)
/say ¬ß6¬ßl‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê</code></pre>

    <h3>Using the math Library</h3>
    <pre><code class="language-python">from math import sqrt, clamp, lerp, PI, distance_3d

player_x, player_y, player_z = 10, 64, -30
boss_x,   boss_y,   boss_z   = 0,  64,  0

dist = distance_3d(player_x, player_y, player_z,
                   boss_x,   boss_y,   boss_z)

damage = clamp(100 - int(dist), 0, 100)
/say Distance to boss: {int(dist)} blocks
/say Explosion damage: {damage}

# Circular patrol path
radius = 20
for i in range(36):
    angle = i * 10 * PI / 180
    nx = int(boss_x + radius * sqrt(1 - angle % 1))
    wait(2)</code></pre>

    <h3>Reusable @macro Library</h3>
    <pre><code class="language-python">@LIBRARY

@macro
def broadcast(msg):
    /say [Server] {msg}

@macro
def warn_player(player, reason):
    /tell {player} ¬ßcWarning: {reason}
    /say ¬ßc{player} was warned: {reason}

def give_kit(player, kit):
    if kit == "starter":
        /give {player} minecraft:wooden_sword 1
        /give {player} minecraft:bread 8
    elif kit == "pvp":
        /give {player} minecraft:diamond_sword 1
        /give {player} minecraft:golden_apple 3
    else:
        /say Unknown kit: {kit}</code></pre>

    <h3>Module Import ‚Äî Full Example</h3>
    <pre><code class="language-python"># main.script
import lib.rewards as rw
from lib.kits import give_kit
from math import clamp, distance_2d

player = "Steve"
px, pz = 150, -80

dist = distance_2d(px, pz, 0, 0)
bonus = clamp(int(dist // 10), 0, 20)

rw.reward_diamonds(player, 5 + bonus)
give_kit(player, "starter")
/say {player} joined and received a welcome kit!</code></pre>

    <div class="warn">
        <strong>‚ö†Ô∏è Stopping Scripts:</strong> Use <code>/scripts stop &lt;name&gt;</code> or <code>/scripts stopall</code> to stop running scripts safely. The engine will abort at the next statement boundary or immediately if inside <code>wait()</code> ‚Äî no commands will run after a stop is requested.
    </div>


    <div class="section-divider"></div>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê MINECRAFT DATA FUNCTIONS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <h2 id="mc-data">üéÆ Minecraft Data Functions</h2>
    <p>These built-in functions query live server data directly from scripts ‚Äî no commands required. All calls are thread-safe: they block the script thread until the server thread has returned the value.</p>

    <div class="note">
        <strong>üí° Thread Safety:</strong> Every data function runs on the server thread internally and blocks the script thread until the result is ready (10-second timeout). They are safe to call from any point in a script, including inside loops and functions.
    </div>

    <!-- ‚îÄ‚îÄ Player ‚Äî Presence ‚îÄ‚îÄ -->
    <h2 id="mc-player-presence">Player ‚Äî Presence &amp; List</h2>

    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>player_online(name)</code></td>
            <td><code>bool</code></td>
            <td>Returns <code>True</code> if a player with this exact name is currently online.</td>
        </tr>
        <tr>
            <td><code>player_list()</code></td>
            <td><code>list</code> of <code>str</code></td>
            <td>Returns a list of all online player names.</td>
        </tr>
        <tr>
            <td><code>player_count()</code></td>
            <td><code>int</code></td>
            <td>Number of players currently online.</td>
        </tr>
    </table>

    <pre><code class="language-python">if player_online("Steve"):
    /say Steve is online!

all_players = player_list()
for p in all_players:
    /say {p} is connected

/say {player_count()} players online</code></pre>

    <!-- ‚îÄ‚îÄ Player ‚Äî Stats ‚îÄ‚îÄ -->
    <h2 id="mc-player-stats">Player ‚Äî Stats</h2>

    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>player_health(name)</code></td>
            <td><code>float</code></td>
            <td>Current health points (e.g. <code>18.5</code>). Returns <code>0.0</code> if offline.</td>
        </tr>
        <tr>
            <td><code>player_max_health(name)</code></td>
            <td><code>float</code></td>
            <td>Maximum health (base is <code>20.0</code>, can be higher with effects/attributes).</td>
        </tr>
        <tr>
            <td><code>player_hunger(name)</code></td>
            <td><code>int</code> (0‚Äì20)</td>
            <td>Current food level.</td>
        </tr>
        <tr>
            <td><code>player_saturation(name)</code></td>
            <td><code>float</code></td>
            <td>Food saturation level.</td>
        </tr>
        <tr>
            <td><code>player_level(name)</code></td>
            <td><code>int</code></td>
            <td>XP level (e.g. <code>32</code>).</td>
        </tr>
        <tr>
            <td><code>player_xp(name)</code></td>
            <td><code>float</code> (0.0‚Äì1.0)</td>
            <td>Progress bar within the current XP level.</td>
        </tr>
        <tr>
            <td><code>player_total_xp(name)</code></td>
            <td><code>int</code></td>
            <td>Total XP points accumulated (not the level bar).</td>
        </tr>
        <tr>
            <td><code>player_gamemode(name)</code></td>
            <td><code>str</code></td>
            <td>One of <code>"survival"</code>, <code>"creative"</code>, <code>"adventure"</code>, <code>"spectator"</code>.</td>
        </tr>
    </table>

    <pre><code class="language-python">hp    = player_health("Steve")
maxhp = player_max_health("Steve")
pct   = int(hp * 100 / maxhp)

/say HP: {hp}/{maxhp} ({pct}%)

if hp < 6:
    /effect give Steve minecraft:regeneration 10 2
    /say Steve is low HP ‚Äî healing!

lvl = player_level("Steve")
gm  = player_gamemode("Steve")
/say Level {lvl} ‚Äî Mode: {gm}</code></pre>

    <!-- ‚îÄ‚îÄ Player ‚Äî Position ‚îÄ‚îÄ -->
    <h2 id="mc-player-position">Player ‚Äî Position &amp; Rotation</h2>

    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>player_x(name)</code></td>
            <td><code>float</code></td>
            <td>X coordinate.</td>
        </tr>
        <tr>
            <td><code>player_y(name)</code></td>
            <td><code>float</code></td>
            <td>Y coordinate (feet level).</td>
        </tr>
        <tr>
            <td><code>player_z(name)</code></td>
            <td><code>float</code></td>
            <td>Z coordinate.</td>
        </tr>
        <tr>
            <td><code>player_pos(name)</code></td>
            <td><code>[x, y, z]</code></td>
            <td>Position as a list ‚Äî convenient for destructuring.</td>
        </tr>
        <tr>
            <td><code>player_yaw(name)</code></td>
            <td><code>float</code></td>
            <td>Horizontal rotation in degrees. 0 = south, 90 = west, ¬±180 = north, ‚àí90 = east.</td>
        </tr>
        <tr>
            <td><code>player_pitch(name)</code></td>
            <td><code>float</code></td>
            <td>Vertical rotation in degrees. ‚àí90 = looking up, 0 = horizontal, 90 = looking down.</td>
        </tr>
        <tr>
            <td><code>player_dimension(name)</code></td>
            <td><code>str</code></td>
            <td>Current dimension: <code>"overworld"</code>, <code>"the_nether"</code>, or <code>"the_end"</code>.</td>
        </tr>
    </table>

    <pre><code class="language-python">pos = player_pos("Steve")
x = pos[0]
y = pos[1]
z = pos[2]
/say Steve is at {int(x)}, {int(y)}, {int(z)}

dim = player_dimension("Steve")
if dim == "the_nether":
    /say Steve is in the Nether!

# Distance check from spawn
from math import distance_3d
dist = distance_3d(x, y, z, 0, 64, 0)
/say Distance from world origin: {int(dist)} blocks

yaw   = player_yaw("Steve")
pitch = player_pitch("Steve")
/say Looking: yaw={int(yaw)}¬∞ pitch={int(pitch)}¬∞</code></pre>

    <!-- ‚îÄ‚îÄ Player ‚Äî State Flags ‚îÄ‚îÄ -->
    <h2 id="mc-player-flags">Player ‚Äî State Flags</h2>

    <table>
        <tr><th>Function</th><th>Returns</th><th>True when‚Ä¶</th></tr>
        <tr><td><code>player_flying(name)</code></td><td><code>bool</code></td><td>Player is flying (creative/spectator or elytra).</td></tr>
        <tr><td><code>player_sneaking(name)</code></td><td><code>bool</code></td><td>Player is holding sneak (Shift).</td></tr>
        <tr><td><code>player_sprinting(name)</code></td><td><code>bool</code></td><td>Player is sprinting.</td></tr>
        <tr><td><code>player_on_ground(name)</code></td><td><code>bool</code></td><td>Player is standing on a solid surface.</td></tr>
        <tr><td><code>player_in_water(name)</code></td><td><code>bool</code></td><td>Player is submerged in water.</td></tr>
        <tr><td><code>player_is_op(name)</code></td><td><code>bool</code></td><td>Player has operator permissions on the server.</td></tr>
    </table>

    <pre><code class="language-python">if player_flying("Steve") and not player_is_op("Steve"):
    /say Steve is flying without OP!
    /effect give Steve minecraft:slowness 5 10

if player_sneaking("Steve"):
    /say Psst‚Ä¶ Steve is sneaking.

if player_in_water("Steve"):
    /say Steve is swimming!</code></pre>

    <!-- ‚îÄ‚îÄ Player ‚Äî Inventory ‚îÄ‚îÄ -->
    <h2 id="mc-player-inventory">Player ‚Äî Inventory</h2>

    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>player_hand(name)</code></td>
            <td><code>dict</code></td>
            <td>
                Item currently held in the main hand.<br>
                Keys: <code>"id"</code> (e.g. <code>"minecraft:diamond_sword"</code>), <code>"count"</code> (<code>int</code>), <code>"name"</code> (display name <code>str</code>).<br>
                Returns <code>{"id": "air", "count": 0, "name": ""}</code> if hand is empty.
            </td>
        </tr>
        <tr>
            <td><code>player_inventory(name)</code></td>
            <td><code>list</code> of <code>dict</code></td>
            <td>
                All non-empty inventory slots. Each dict has:<br>
                <code>"slot"</code> (<code>int</code>), <code>"id"</code>, <code>"count"</code>, <code>"name"</code>.<br>
                Slot 0‚Äì8 = hotbar, 9‚Äì35 = main inventory, 36‚Äì39 = armor, 40 = offhand.
            </td>
        </tr>
    </table>

    <pre><code class="language-python"># Check what Steve is holding
hand = player_hand("Steve")
if hand["id"] == "minecraft:diamond_sword":
    /say Steve has a diamond sword drawn!

# Find if player has a specific item
inv = player_inventory("Steve")
has_apple = False
for item in inv:
    if "apple" in item["id"]:
        has_apple = True
        break

if not has_apple:
    /give Steve minecraft:apple 5
    /say Steve needed apples ‚Äî here you go!

# Print full inventory
/say Steve's inventory ({len(inv)} items):
for item in inv:
    /say  Slot {item["slot"]}: {item["id"]} x{item["count"]}</code></pre>

    <!-- ‚îÄ‚îÄ Player ‚Äî NBT ‚îÄ‚îÄ -->
    <h2 id="mc-player-nbt">Player ‚Äî NBT</h2>
    <p>These functions return structured data equivalent to what you'd see with <code>/data get entity &lt;player&gt;</code>, but as native script values ready to use in expressions.</p>

    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>player_nbt(name)</code></td>
            <td><code>dict</code></td>
            <td>Full snapshot of all key player fields. See table below for all keys.</td>
        </tr>
        <tr>
            <td><code>player_nbt_tag(name, tag)</code></td>
            <td><code>any</code></td>
            <td>Single field by key name. Returns <code>None</code> if the player is offline or the tag doesn't exist.</td>
        </tr>
    </table>

    <h3>NBT Keys</h3>
    <table>
        <tr><th>Key</th><th>Type</th><th>Description</th></tr>
        <tr><td><code>Health</code></td><td><code>float</code></td><td>Current health</td></tr>
        <tr><td><code>MaxHealth</code></td><td><code>float</code></td><td>Max health</td></tr>
        <tr><td><code>FoodLevel</code></td><td><code>int</code></td><td>Hunger (0‚Äì20)</td></tr>
        <tr><td><code>FoodSaturation</code></td><td><code>float</code></td><td>Saturation</td></tr>
        <tr><td><code>XpLevel</code></td><td><code>int</code></td><td>XP level</td></tr>
        <tr><td><code>XpProgress</code></td><td><code>float</code></td><td>XP bar progress (0.0‚Äì1.0)</td></tr>
        <tr><td><code>TotalXp</code></td><td><code>int</code></td><td>Total XP points</td></tr>
        <tr><td><code>Score</code></td><td><code>int</code></td><td>Death score</td></tr>
        <tr><td><code>GameMode</code></td><td><code>str</code></td><td>"survival" / "creative" / ‚Ä¶</td></tr>
        <tr><td><code>PosX</code> / <code>PosY</code> / <code>PosZ</code></td><td><code>float</code></td><td>World coordinates</td></tr>
        <tr><td><code>Yaw</code> / <code>Pitch</code></td><td><code>float</code></td><td>Head rotation</td></tr>
        <tr><td><code>Dimension</code></td><td><code>str</code></td><td>Current dimension path</td></tr>
        <tr><td><code>Flying</code></td><td><code>bool</code></td><td>Currently flying</td></tr>
        <tr><td><code>Sneaking</code></td><td><code>bool</code></td><td>Currently sneaking</td></tr>
        <tr><td><code>Sprinting</code></td><td><code>bool</code></td><td>Currently sprinting</td></tr>
        <tr><td><code>OnGround</code></td><td><code>bool</code></td><td>Standing on ground</td></tr>
        <tr><td><code>InWater</code></td><td><code>bool</code></td><td>Submerged in water</td></tr>
        <tr><td><code>IsOp</code></td><td><code>bool</code></td><td>Has operator permissions</td></tr>
        <tr><td><code>Name</code></td><td><code>str</code></td><td>Player name</td></tr>
        <tr><td><code>UUID</code></td><td><code>str</code></td><td>Player UUID string</td></tr>
    </table>

    <pre><code class="language-python"># Full NBT snapshot
nbt = player_nbt("Steve")
/say HP:   {nbt["Health"]} / {nbt["MaxHealth"]}
/say Pos:  {int(nbt["PosX"])}, {int(nbt["PosY"])}, {int(nbt["PosZ"])}
/say Mode: {nbt["GameMode"]}
/say UUID: {nbt["UUID"]}

# Iterate all fields
for key in nbt:
    /say {key}: {nbt[key]}

# Single tag ‚Äî useful for quick checks
hp  = player_nbt_tag("Steve", "Health")
uid = player_nbt_tag("Steve", "UUID")
/say Health tag: {hp}
/say UUID tag:   {uid}

# Combined condition
if player_nbt_tag("Steve", "FoodLevel") < 5 and not player_nbt_tag("Steve", "Flying"):
    /say Steve is starving on the ground!
    /give Steve minecraft:cooked_beef 4</code></pre>

    <!-- ‚îÄ‚îÄ World & Server ‚îÄ‚îÄ -->
    <h2 id="mc-world">World &amp; Server</h2>

    <h3>World</h3>
    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>world_time()</code></td>
            <td><code>int</code> (ticks)</td>
            <td>Absolute game time since world creation. Never resets, not affected by <code>/time set</code>.</td>
        </tr>
        <tr>
            <td><code>world_day_time()</code></td>
            <td><code>int</code> (0‚Äì24000)</td>
            <td>Position in the current day cycle. 0 = midnight, 6000 = noon, 13000 = sunset, 18000 = midnight again.</td>
        </tr>
        <tr>
            <td><code>world_day()</code></td>
            <td><code>int</code></td>
            <td>Current in-game day number (increments every 24000 ticks).</td>
        </tr>
        <tr>
            <td><code>world_weather()</code></td>
            <td><code>str</code></td>
            <td><code>"clear"</code>, <code>"rain"</code>, or <code>"thunder"</code>.</td>
        </tr>
        <tr>
            <td><code>world_difficulty()</code></td>
            <td><code>str</code></td>
            <td><code>"peaceful"</code>, <code>"easy"</code>, <code>"normal"</code>, or <code>"hard"</code>.</td>
        </tr>
        <tr>
            <td><code>world_spawn()</code></td>
            <td><code>[x, y, z]</code></td>
            <td>World spawn point coordinates.</td>
        </tr>
    </table>

    <h3>Server</h3>
    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>server_max_players()</code></td>
            <td><code>int</code></td>
            <td>Max players allowed, as set in <code>server.properties</code>.</td>
        </tr>
        <tr>
            <td><code>server_tps()</code></td>
            <td><code>float</code></td>
            <td>Estimated ticks per second. 20.0 = perfect. Lower values indicate lag.</td>
        </tr>
        <tr>
            <td><code>server_mspt()</code></td>
            <td><code>float</code></td>
            <td>Average milliseconds per tick. &lt;50 ms is healthy.</td>
        </tr>
    </table>

    <pre><code class="language-python">daytime = world_day_time()
weather = world_weather()
tps     = server_tps()

# Announce sunrise
if daytime > 23900 or daytime < 100:
    /say Good morning! Day {world_day()} begins.

# React to thunder
if weather == "thunder":
    /say A storm is raging!
    /weather clear 6000

# Server lag warning
if tps < 15:
    /say ¬ßc[Warning] Server lag detected! TPS: {tps}

# Server status board
online   = player_count()
max_p    = server_max_players()
spawn    = world_spawn()
diff     = world_difficulty()
/say ¬ß6=== SERVER STATUS ===
/say Players: {online}/{max_p}  TPS: {tps}  MSPT: {server_mspt()}
/say Difficulty: {diff}  Day: {world_day()}  Weather: {weather}
/say Spawn: {int(spawn[0])}, {int(spawn[1])}, {int(spawn[2])}</code></pre>

    <!-- ‚îÄ‚îÄ Blocks ‚îÄ‚îÄ -->
    <h2 id="mc-blocks">Block Data</h2>

    <table>
        <tr><th>Function</th><th>Returns</th><th>Description</th></tr>
        <tr>
            <td><code>block_at(x, y, z)</code></td>
            <td><code>str</code></td>
            <td>Block ID at the given coordinates in the overworld. E.g. <code>"minecraft:stone"</code>.</td>
        </tr>
        <tr>
            <td><code>block_at(x, y, z, dimension)</code></td>
            <td><code>str</code></td>
            <td>Block ID in a specific dimension. Dimension: <code>"overworld"</code>, <code>"the_nether"</code>, <code>"the_end"</code>.</td>
        </tr>
        <tr>
            <td><code>block_is_air(x, y, z)</code></td>
            <td><code>bool</code></td>
            <td>Returns <code>True</code> if the block is air (overworld only). Useful for spawn safety checks.</td>
        </tr>
        <tr>
            <td><code>block_light(x, y, z)</code></td>
            <td><code>int</code> (0‚Äì15)</td>
            <td>Light emission level of the block at these coordinates (overworld). Note: this is block light, not sky light.</td>
        </tr>
    </table>

    <pre><code class="language-python"># What's under Steve's feet?
px = int(player_x("Steve"))
py = int(player_y("Steve"))
pz = int(player_z("Steve"))

under = block_at(px, py - 1, pz)
/say Steve is standing on: {under}

# Block above head
above = block_at(px, py + 1, pz)
if above != "minecraft:air":
    /say Something is above Steve's head: {above}

# Nether check
nether_floor = block_at(0, 1, 0, "the_nether")
/say Nether floor at 0,1,0: {nether_floor}

# Safe spawn check
is_safe = block_is_air(0, 65, 0) and block_is_air(0, 66, 0)
if is_safe:
    /say Spawn is clear!
else:
    /say Spawn is blocked ‚Äî clearing...
    /setblock 0 65 0 air
    /setblock 0 66 0 air

# Light level check
light = block_light(px, py, pz)
if light < 8:
    /say ¬ßeDark area! Mob spawning possible. Light: {light}/15</code></pre>

    <!-- ‚îÄ‚îÄ Data Examples ‚îÄ‚îÄ -->
    <h2 id="mc-examples">Data ‚Äî Full Examples</h2>

    <h3>Health Monitor (runs every 5 seconds)</h3>
    <pre><code class="language-python">@PREPARE
# Monitors all online players and alerts if HP is critical

while True:
    players = player_list()
    for p in players:
        hp    = player_health(p)
        maxhp = player_max_health(p)
        pct   = hp * 100 / maxhp

        if pct <= 25:
            /title {p} times 5 40 5
            /title {p} subtitle {"text":"‚ù§ LOW HP!","color":"red","bold":true}
            /title {p} title {"text":" "}
            /tell {p} ¬ßcWarning: your HP is at {int(pct)}%!
    wait(100)   # check every 5 seconds</code></pre>

    <h3>Anti-Fly Detector</h3>
    <pre><code class="language-python">@PREPARE
# Detects non-OP players flying in survival mode

while True:
    for p in player_list():
        gm     = player_gamemode(p)
        flying = player_flying(p)
        is_op  = player_is_op(p)

        if gm == "survival" and flying and not is_op:
            /say ¬ßc[AntiCheat] {p} is flying in survival!
            /gamemode survival {p}
            /tell {p} ¬ßcFlying is not allowed in survival mode.
    wait(40)   # check every 2 seconds</code></pre>

    <h3>Welcome Board on Join</h3>
    <pre><code class="language-python">def greet_player(player):
    hp    = player_health(player)
    lvl   = player_level(player)
    dim   = player_dimension(player)
    pos   = player_pos(player)
    count = player_count()
    maxp  = server_max_players()
    day   = world_day()
    tps   = server_tps()

    /tellraw {player} {"text":"","extra":[{"text":"=== Welcome back, ","color":"gold"},{"text":"{player}","color":"yellow","bold":true},{"text":" ===","color":"gold"}]}
    /tell {player} ¬ßeHP: ¬ßf{hp}/{player_max_health(player)}  ¬ßeLevel: ¬ßf{lvl}
    /tell {player} ¬ßePosition: ¬ßf{int(pos[0])}, {int(pos[1])}, {int(pos[2])}  ¬ßeDim: ¬ßf{dim}
    /tell {player} ¬ßePlayers online: ¬ßf{count}/{maxp}  ¬ßeDay: ¬ßf{day}  ¬ßeTPS: ¬ßf{tps}</code></pre>

    <h3>Inventory Scanner</h3>
    <pre><code class="language-python"># Scan all players for contraband items
BANNED = ["tnt", "end_crystal", "bedrock"]

for p in player_list():
    inv = player_inventory(p)
    for item in inv:
        for banned in BANNED:
            if banned in item["id"]:
                /say ¬ßc[Security] {p} has {item["id"]} in slot {item["slot"]}!
                /clear {p} {item["id"]}
                /tell {p} ¬ßcIllegal item confiscated: {item["id"]}</code></pre>

    <h3>Dynamic Difficulty Scaling</h3>
    <pre><code class="language-python">@PREPARE
# Scale difficulty based on server population

while True:
    count = player_count()
    tps   = server_tps()

    if count == 0:
        /difficulty peaceful
    elif count <= 5 or tps < 15:
        /difficulty easy
    elif count <= 15:
        /difficulty normal
    else:
        /difficulty hard

    wait(1200)   # check every minute</code></pre>

    <footer>
        <p>Advanced Scripts Mod ‚Äî Language Reference | Minecraft Forge 1.20.1</p>
        <div class="footer-links">
            <a href="https://www.curseforge.com/minecraft/mc-mods/advanced-scripts" target="_blank">‚¨á Download on CurseForge</a>
        </div>
    </footer>
</div>

<script>Prism.highlightAll();</script>
</body>
</html>
